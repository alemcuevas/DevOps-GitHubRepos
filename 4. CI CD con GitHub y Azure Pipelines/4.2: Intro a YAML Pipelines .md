## ğŸ§¾ 4.2 IntroducciÃ³n a YAML pipelines

En Azure DevOps, los pipelines definidos en YAML permiten describir el flujo completo de **CI/CD como cÃ³digo**, facilitando la automatizaciÃ³n, la trazabilidad y la colaboraciÃ³n.

---

### ğŸ“Œ Â¿QuÃ© es un pipeline YAML?

Un **YAML pipeline** es un archivo de texto (generalmente llamado `azure-pipelines.yml`) que define todas las etapas, trabajos y pasos necesarios para construir, probar y desplegar una aplicaciÃ³n. YAML significa "YAML Ainâ€™t Markup Language", un formato ligero, fÃ¡cil de leer y editar.

---

### ğŸ§  Â¿Por quÃ© usar YAML en lugar del editor visual?

- Es versionable: se guarda junto con tu cÃ³digo en el repositorio.
- Facilita la colaboraciÃ³n: los cambios pueden revisarse vÃ­a Pull Request.
- Permite plantillas y reutilizaciÃ³n de cÃ³digo.
- Compatible con mÃºltiples entornos y ramas.

---

### ğŸ§© Estructura bÃ¡sica de un YAML pipeline

- **trigger**: Indica cuÃ¡ndo se ejecuta el pipeline (por ejemplo, en cada `push`).
- **pool**: Define el tipo de agente (mÃ¡quina virtual) donde correrÃ¡n las tareas.
- **stages**: Agrupaciones lÃ³gicas de procesos (como `build`, `test`, `deploy`).
- **jobs**: SubdivisiÃ³n dentro de un stage, ejecutados en paralelo o secuencialmente.
- **steps**: Tareas individuales como instalar, compilar, ejecutar pruebas o copiar archivos.

---

### ğŸ“˜ Ejemplo comentado de estructura YAML

- `trigger`:  
  - `branches`: define quÃ© ramas activan el pipeline.  
    - Ejemplo: `main`, `develop`

- `pool`:  
  - `vmImage`: nombre del agente, como `ubuntu-latest`

- `steps`:  
  1. Task: `Use Node.js`  
     - `version`: 18.x  
     - DescripciÃ³n: Instala Node.js en el agente

  2. Script: `npm install`  
     - DescripciÃ³n: Instala dependencias del proyecto

  3. Script: `npm run test`  
     - DescripciÃ³n: Ejecuta pruebas automatizadas

  4. Script: `npm run build`  
     - DescripciÃ³n: Construye el proyecto para producciÃ³n

---

### âœ… Beneficios del enfoque YAML

- Pipelines definidos como cÃ³digo (IaC)
- Mayor transparencia y reutilizaciÃ³n
- Perfecto para entornos DevOps colaborativos
- MÃ¡s fÃ¡ciles de copiar entre proyectos o equipos

---

### ğŸ’¡ Recomendaciones

- Coloca tu archivo `azure-pipelines.yml` en la raÃ­z del repositorio.
- Usa variables para definir rutas, claves, nombres de ambiente, etc.
- Aprovecha plantillas (`.yml`) si tienes mÃºltiples pipelines similares.
- MantÃ©n tus definiciones pequeÃ±as y modulares si es posible.

---

### ğŸ“š Recursos adicionales

- [GuÃ­a oficial de YAML pipelines](https://learn.microsoft.com/en-us/azure/devops/pipelines/yaml-schema)  
- [Configurar un pipeline YAML](https://learn.microsoft.com/en-us/azure/devops/pipelines/create-first-pipeline)  
- [ReutilizaciÃ³n con plantillas YAML](https://learn.microsoft.com/en-us/azure/devops/pipelines/process/templates)

