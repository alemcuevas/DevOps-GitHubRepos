## ğŸ§ª 3.4 Reglas de calidad de cÃ³digo y control de acceso en Azure Repos

Mantener la calidad del cÃ³digo y controlar quiÃ©n puede modificarlo es fundamental para prevenir errores en producciÃ³n, garantizar mantenibilidad y asegurar la colaboraciÃ³n entre equipos. Azure Repos ofrece herramientas integradas para implementar **estÃ¡ndares de calidad y polÃ­ticas de seguridad**.

---

## ğŸ§  Â¿QuÃ© son las reglas de calidad de cÃ³digo?

Son lineamientos tÃ©cnicos y normativos que el cÃ³digo debe cumplir antes de integrarse a una rama protegida. Estas reglas pueden ser manuales (revisiÃ³n de PRs) o automÃ¡ticas (validaciones por herramientas).

---

## ğŸ§© Herramientas comunes para calidad de cÃ³digo

| Herramienta / FunciÃ³n         | DescripciÃ³n                                                                 |
|-------------------------------|-----------------------------------------------------------------------------|
| âœ… **Build validation**        | Ejecuta una pipeline de CI que incluye tests, linters y validaciones        |
| ğŸ” **SonarCloud / SonarQube** | AnÃ¡lisis de cÃ³digo estÃ¡tico: duplicaciÃ³n, bugs, cobertura, deuda tÃ©cnica    |
| ğŸ§ª **Pruebas automatizadas**   | Validan comportamiento funcional (unitarias, integraciÃ³n, UI)               |
| ğŸ’¡ **Linters y formatters**    | Aseguran estilo consistente y detectan errores tempranos (ESLint, Prettier) |
| ğŸ§¾ **DocumentaciÃ³n mÃ­nima**    | ValidaciÃ³n de comentarios, headers, convenciones                            |
| â³ **Tiempo de revisiÃ³n mÃ­nimo** | Asegura que los PR no se aprueben sin revisiÃ³n adecuada                     |

---

## ğŸ›¡ï¸ Control de acceso en Azure Repos

Azure DevOps permite definir **permisos granulares** para proteger el cÃ³digo fuente segÃºn roles, ramas o rutas especÃ­ficas.

### ğŸ” Niveles comunes de permisos:

- **Read**: Ver el contenido del repositorio
- **Contribute**: Hacer push, pull, crear ramas
- **Force push / Delete**: Requiere privilegios elevados
- **Manage permissions**: Asignar y editar roles

### ğŸ‘¥ Roles recomendados por entorno:

| Rol / Grupo        | Permisos sugeridos                                          |
|--------------------|-------------------------------------------------------------|
| `Desarrolladores`   | Contribute solo en ramas personales o de feature           |
| `QA / Testers`      | Read en repositorios, acceso a pipelines de prueba         |
| `Tech Leads`        | AprobaciÃ³n de PRs, ediciÃ³n de policies, acceso completo     |
| `Usuarios externos` | Read (solo si es necesario), nunca acceso de escritura      |

> âœ… Usa **grupos de seguridad** en lugar de asignar permisos individuales.

---

## ğŸ“ Buenas prÃ¡cticas de calidad y seguridad

- ğŸ§ª Automatiza validaciones con CI (test, lint, build)
- ğŸ”’ Restringe quiÃ©n puede escribir o borrar en ramas sensibles (`main`, `release`)
- ğŸ‘¥ Usa polÃ­ticas de revisiÃ³n con mÃ­nimo 1 o 2 revisores
- ğŸš« Desactiva el push directo a ramas protegidas
- ğŸ” Integra herramientas como SonarCloud, ESLint o CodeQL
- â° Define tiempo mÃ­nimo de revisiÃ³n o aprobaciÃ³n caducada si el cÃ³digo cambia
- ğŸ”— Asegura la trazabilidad de cambios con work items (`AB#<ID>`)

---

## âœ… Resultado esperado

Al aplicar reglas de calidad y control de acceso:

- Se reducen bugs en producciÃ³n
- Se evita cÃ³digo no revisado o inseguro
- Se mejora la mantenibilidad y claridad del cÃ³digo
- Se asegura que solo las personas correctas puedan modificar partes sensibles del sistema

---

## ğŸ“š Recursos adicionales

- [ğŸ” Control de acceso a repositorios](https://learn.microsoft.com/en-us/azure/devops/repos/git/security)
- [âœ… Configurar polÃ­ticas de revisiÃ³n y validaciÃ³n](https://learn.microsoft.com/en-us/azure/devops/repos/git/branch-policies)
- [ğŸ§ª IntegraciÃ³n con SonarCloud](https://learn.microsoft.com/en-us/azure/devops/repos/sonarcloud)
- [ğŸ“ Code quality guidance](https://learn.microsoft.com/en-us/devops/deliver/quality/code-quality)

