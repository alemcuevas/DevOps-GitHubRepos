## ğŸ¤– 5.1 AutomatizaciÃ³n avanzada en Azure DevOps

Una vez que se dominan los conceptos bÃ¡sicos de CI/CD, Azure DevOps permite llevar la automatizaciÃ³n a un siguiente nivel mediante el uso de **variables dinÃ¡micas, plantillas, pipelines multi-stage, aprobaciones, gates, y tareas condicionales**. Esto permite construir flujos complejos y adaptables para organizaciones con mÃºltiples entornos y controles.

---

### ğŸ§  Â¿QuÃ© significa automatizaciÃ³n avanzada?

Implica diseÃ±ar pipelines que respondan de manera dinÃ¡mica a diferentes condiciones del proyecto, como:

- Entornos (`dev`, `qa`, `prod`)
- Ramas (`main`, `release`, `hotfix`)
- Resultado de pruebas o calidad
- IntervenciÃ³n humana (aprobaciones)
- ParÃ¡metros personalizados

---

### âš™ï¸ Componentes clave

#### ğŸ” Multi-stage pipelines

- Permiten dividir el pipeline en etapas secuenciales como `build`, `test`, `deploy`
- Cada etapa puede tener condiciones, aprobaciones o tareas especÃ­ficas

#### ğŸ§© Templates reutilizables

- Modularizan lÃ³gica comÃºn: pasos de build, despliegue o notificaciÃ³n
- Permiten parametrizaciÃ³n y reutilizaciÃ³n en mÃºltiples proyectos

#### ğŸ§ª Validaciones (Gates)

- Permiten pausar un pipeline hasta que se cumpla una condiciÃ³n externa:
  - AprobaciÃ³n manual
  - Resultado de una API externa
  - Tiempo de espera definido (delay)
  - Resultado de anÃ¡lisis de calidad

#### ğŸ” Approvals and checks

- Requieren que ciertos usuarios o grupos aprueben antes de continuar
- Ãštiles en etapas crÃ­ticas como producciÃ³n o cambios en infraestructura

#### ğŸ§® Variables y parÃ¡metros

- Variables: valores definidos en tiempo de ejecuciÃ³n o en tiempo de diseÃ±o
- ParÃ¡metros: definidos en plantillas y asignados al usarlas
- Soportan expresiones condicionales, nombres dinÃ¡micos y uso seguro

---

### ğŸ› ï¸ Casos de uso comunes

- **Validar builds solo en `develop` y desplegar solo en `main`**
- **Pedir aprobaciÃ³n manual antes de desplegar en producciÃ³n**
- **Usar un pipeline Ãºnico que despliegue a diferentes entornos basado en una variable**
- **Notificar a Teams o Slack al terminar cada etapa**
- **Ejecutar tareas solo si se cumple una condiciÃ³n (por ejemplo: si fallaron pruebas)**

---

### âœ… Buenas prÃ¡cticas

- MantÃ©n las etapas separadas por responsabilidad (CI â‰  CD)
- Usa nombres claros para stages, jobs y variables
- Centraliza los templates y versiones en un repositorio comÃºn
- Documenta cuÃ¡ndo y cÃ³mo se deben aprobar cambios manuales
- AsegÃºrate de que los controles de seguridad estÃ©n activos para producciÃ³n

---

### ğŸ“š Recursos adicionales

- [Multi-stage pipelines en YAML](https://learn.microsoft.com/en-us/azure/devops/pipelines/process/stages)
- [Approvals and checks](https://learn.microsoft.com/en-us/azure/devops/pipelines/process/approvals)
- [Condiciones en tareas y jobs](https://learn.microsoft.com/en-us/azure/devops/pipelines/process/conditions)
- [Plantillas YAML reutilizables](https://learn.microsoft.com/en-us/azure/devops/pipelines/process/templates)
- [Variables y expresiones](https://learn.microsoft.com/en-us/azure/devops/pipelines/process/expressions)

