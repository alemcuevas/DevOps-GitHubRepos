## ğŸ•µï¸â€â™€ï¸ 6.4 Escaneo de secretos y vulnerabilidades

El escaneo de secretos y vulnerabilidades es una prÃ¡ctica esencial para evitar exposiciones accidentales de claves, tokens, contraseÃ±as, y detectar bibliotecas inseguras que podrÃ­an comprometer la seguridad de tu aplicaciÃ³n o infraestructura.

---

### ğŸ”‘ Â¿QuÃ© es un secreto?

Un **secreto** es cualquier dato sensible que no debe estar expuesto en el cÃ³digo fuente:

- Tokens de API
- Claves de acceso a bases de datos
- ContraseÃ±as de servicios
- Certificados o claves privadas
- Conexiones a servicios externos (AWS, Azure, Stripe, Twilio, etc.)

---

### ğŸ’£ Â¿QuÃ© es una vulnerabilidad?

Una **vulnerabilidad** es una debilidad en una dependencia, paquete o configuraciÃ³n que puede ser explotada para comprometer un sistema.  
Ejemplos comunes:
- Uso de versiones antiguas de librerÃ­as (con CVEs conocidos)
- Fallas en autenticaciÃ³n, validaciÃ³n de entradas o exposiciÃ³n de datos
- Uso de software no actualizado con parches pendientes

---

### ğŸ” Herramientas en Azure DevOps

#### Microsoft Security DevOps

- Escanea automÃ¡ticamente el cÃ³digo, dependencias y configuraciones
- Detecta secretos expuestos y vulnerabilidades conocidas (SCA + SAST)
- Genera reportes en el pipeline
- Compatible con Azure Pipelines como una tarea preconfigurada

#### OWASP Dependency Check

- EvalÃºa paquetes contra bases de datos de vulnerabilidades (como NVD)

#### Extensiones como WhiteSource Bolt, SonarQube, CodeQL

- Se integran al flujo de CI para validar cada build antes del despliegue

---

### ğŸ›¡ï¸ Herramientas en GitHub

#### GitHub Advanced Security (si estÃ¡ habilitado)

- **Secret scanning**: Detecta secretos conocidos en push y PR
- **Dependabot alerts**: Notifica automÃ¡ticamente si se usa una dependencia vulnerable
- **Code scanning**: Revisa patrones de cÃ³digo que pueden representar riesgos

#### GitHub Actions

- Puedes agregar escaneo de seguridad como parte del workflow
- Actions recomendadas:
  - `github/codeql-action`
  - `trufflesecurity/trufflehog`
  - `zricethezav/gitleaks-action`

---

### âœ… Buenas prÃ¡cticas

- Nunca guardar secretos en el cÃ³digo ni en variables no protegidas
- Usar **Azure Key Vault** o variables secretas cifradas
- Automatizar escaneos en cada PR o push
- Revisar y actualizar dependencias periÃ³dicamente
- Establecer polÃ­ticas que bloqueen el merge si se detecta una fuga
- Rotar los secretos expuestos inmediatamente si se detectan

---

### ğŸ“š Recursos adicionales

- [Microsoft Security DevOps extension](https://learn.microsoft.com/en-us/security/devops/overview)
- [Secret scanning en GitHub](https://docs.github.com/en/code-security/secret-scanning/about-secret-scanning)
- [Dependabot y alertas de seguridad](https://docs.github.com/en/code-security/supply-chain-security/keeping-your-dependencies-updated-automatically)
- [CodeQL y escaneo de cÃ³digo](https://docs.github.com/en/code-security/code-scanning)

