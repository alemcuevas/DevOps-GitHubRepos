## üîç 6.3 Revisiones y aprobaciones de pull requests

Las **Pull Requests (PRs)** son el n√∫cleo del trabajo colaborativo en DevOps moderno. Permiten validar cambios, obtener retroalimentaci√≥n, aplicar pruebas automatizadas y garantizar que el c√≥digo cumpla con est√°ndares antes de integrarse a ramas protegidas como `main`.

---

### üß† Objetivos de una revisi√≥n de PR

- Validar la calidad y funcionalidad del c√≥digo propuesto
- Detectar errores o efectos colaterales antes del merge
- Asegurar consistencia en estilo, convenciones y patrones
- Facilitar la trazabilidad y documentaci√≥n de los cambios

---

### ‚úÖ Revisi√≥n de PRs en Azure Repos

- Se crean desde ramas de feature hacia `main`, `develop`, etc.
- Se asignan **revisores obligatorios** seg√∫n pol√≠ticas de rama
- Las pol√≠ticas pueden exigir:
  - Work item vinculado (`AB#123`)
  - Build exitoso con Azure Pipelines
  - Resoluci√≥n de todos los comentarios
  - Tiempo m√≠nimo de revisi√≥n o expiraci√≥n si el c√≥digo cambia
- Se permite dejar comentarios por l√≠nea, archivo o en general
- El merge puede bloquearse hasta que todos los criterios se cumplan

---

### ‚úÖ Revisi√≥n de PRs en GitHub Repos

- El flujo es similar: desde rama secundaria hacia protegida
- Las **Branch Protection Rules** pueden requerir:
  - N√∫mero m√≠nimo de revisores (ej. 1 o 2)
  - Status checks aprobados (GitHub Actions, SonarCloud, etc.)
  - Revisi√≥n de c√≥digo firmada o aprobada por equipo
  - Comentarios resueltos antes del merge (opcionalmente gestionado manualmente)

---

### üîÅ Flujo recomendado de revisi√≥n

1. El desarrollador crea una rama `feature/login-form`
2. Al terminar, abre un Pull Request hacia `main`
3. Azure DevOps o GitHub ejecutan:
   - Build autom√°tico
   - Pruebas unitarias
   - Escaneo de c√≥digo (si est√° configurado)
4. Los revisores leen, comentan y aprueban
5. Una vez cumplidas las condiciones, se permite el merge
6. Se actualiza el work item y se marca como cerrado

---

### üìå Buenas pr√°cticas

- Usa nombres claros para los PRs:  
  Ejemplo: `Refactoriza validaci√≥n de formularios AB#245`

- Crea PRs peque√±os y enfocados en una sola tarea
- Asigna revisores espec√≠ficos (por m√≥dulo o componente)
- Revisa con empat√≠a y en tono constructivo
- Responde a comentarios o marca como resueltos
- Usa checklists de revisi√≥n de c√≥digo si est√°n definidos por el equipo
- Nunca apruebes un PR sin leer solo por presi√≥n o prisa

---

### üìö Recursos adicionales

- [Pull Requests en Azure Repos](https://learn.microsoft.com/en-us/azure/devops/repos/git/pull-requests)  
- [Pull Requests en GitHub](https://docs.github.com/en/pull-requests)  
- [Checklist para revisi√≥n de c√≥digo](https://learn.microsoft.com/en-us/azure/devops/repos/git/pull-request-guidance)
